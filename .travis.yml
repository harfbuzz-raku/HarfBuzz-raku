language: perl6
sudo: false
os:
  - linux
perl6:
  - latest
  - '2020.11'
before_install:
  - sudo apt-get -y install libharfbuzz-dev
install:
  - rakudobrew build zef
  - git clone https://github.com/timo/cairo-p6.git -b glyphs
  - (cd cairo-p6/ && zef install .)
  - git clone https://github.com/pdf-raku/Font-FreeType-raku
  - (cd Font-FreeType-raku/ && zef install .)
  - zef --depsonly install .
  - zef build .
script:
  - prove -ve "raku -I."
  - zef install .
